{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/reservations.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ShowReservationComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\")(7, \"span\", 4);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ShowReservationComponent_tr_17_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const res_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.showDetails(res_r1.idReservation));\n    });\n    i0.ɵɵelement(13, \"i\", 6);\n    i0.ɵɵtext(14, \" D\\u00E9tails \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ShowReservationComponent_tr_17_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const res_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.editReservation(res_r1.idReservation));\n    });\n    i0.ɵɵelement(16, \"i\", 8);\n    i0.ɵɵtext(17, \" Modifier \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function ShowReservationComponent_tr_17_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const res_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteReservation(res_r1));\n    });\n    i0.ɵɵelement(19, \"i\", 10);\n    i0.ɵɵtext(20, \" Supprimer \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const res_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(res_r1.idReservation);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 4, res_r1.anneeUniversite, \"yyyy-MM-dd\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(res_r1.estValide ? \"Oui\" : \"Non\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(res_r1.commentaire);\n  }\n}\nexport class ShowReservationComponent {\n  constructor(sReservation, router) {\n    this.sReservation = sReservation;\n    this.router = router;\n    this.reservations = [];\n    this.searchTerm = '';\n    this.startDate = ''; // Pour la date de début\n    this.endDate = ''; // Pour la date de fin\n  }\n\n  ngOnInit() {\n    this.sReservation.getAllReservations().subscribe(data => {\n      console.log(data);\n      this.reservations = data;\n    });\n  }\n  addReservation() {\n    this.router.navigate(['/gestion-reservation/addRes']); // Naviguer vers la page d'ajout\n  }\n\n  showDetails(idReservation) {\n    this.router.navigate(['/gestion-reservation/detailRes', idReservation]);\n  }\n  deleteReservation(resv) {\n    this.sReservation.deleteReservation(resv).subscribe(data => {\n      console.log(data);\n    });\n  }\n  editReservation(idReservation) {\n    this.router.navigate(['/gestion-reservation/updateRes', idReservation]);\n  }\n  get filteredReservations() {\n    return this.reservations.filter(reservation => reservation.idReservation.toString().includes(this.searchTerm) || reservation.anneeUniversite.toString().includes(this.searchTerm) || reservation.commentaire.toLowerCase().includes(this.searchTerm.toLowerCase())\n    // Vous pouvez ajouter d'autres critères de filtrage ici\n    );\n  }\n  static #_ = this.ɵfac = function ShowReservationComponent_Factory(t) {\n    return new (t || ShowReservationComponent)(i0.ɵɵdirectiveInject(i1.ReservationsService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ShowReservationComponent,\n    selectors: [[\"app-show-reservation\"]],\n    decls: 18,\n    vars: 1,\n    consts: [[1, \"container\", \"mt-4\"], [1, \"btn\", \"btn-success\", \"btn-sm\", \"action-button\", 3, \"click\"], [1, \"table\", \"table-striped\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [1, \"badge\", \"badge-info\", 2, \"color\", \"black\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", \"action-button\", 3, \"click\"], [1, \"fas\", \"fa-info-circle\"], [1, \"btn\", \"btn-warning\", \"btn-sm\", \"action-button\", 3, \"click\"], [1, \"fas\", \"fa-edit\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", \"action-button\", 3, \"click\"], [1, \"fas\", \"fa-trash-alt\"]],\n    template: function ShowReservationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function ShowReservationComponent_Template_button_click_1_listener() {\n          return ctx.addReservation();\n        });\n        i0.ɵɵtext(2, \" Ajouter r\\u00E9servation \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"table\", 2)(4, \"thead\")(5, \"tr\")(6, \"th\");\n        i0.ɵɵtext(7, \"ID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"th\");\n        i0.ɵɵtext(9, \"Ann\\u00E9e Universitaire\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"th\");\n        i0.ɵɵtext(11, \"Est Valide ?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"th\");\n        i0.ɵɵtext(13, \"Commentaire\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"th\");\n        i0.ɵɵtext(15, \"Actions\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(16, \"tbody\");\n        i0.ɵɵtemplate(17, ShowReservationComponent_tr_17_Template, 21, 7, \"tr\", 3);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filteredReservations);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.DatePipe],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ShowReservationComponent_tr_17_Template_button_click_12_listener","restoredCtx","ɵɵrestoreView","_r3","res_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","showDetails","idReservation","ɵɵelement","ShowReservationComponent_tr_17_Template_button_click_15_listener","ctx_r4","editReservation","ShowReservationComponent_tr_17_Template_button_click_18_listener","ctx_r5","deleteReservation","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind2","anneeUniversite","estValide","commentaire","ShowReservationComponent","constructor","sReservation","router","reservations","searchTerm","startDate","endDate","ngOnInit","getAllReservations","subscribe","data","console","log","addReservation","navigate","resv","filteredReservations","filter","reservation","toString","includes","toLowerCase","_","ɵɵdirectiveInject","i1","ReservationsService","i2","Router","_2","selectors","decls","vars","consts","template","ShowReservationComponent_Template","rf","ctx","ShowReservationComponent_Template_button_click_1_listener","ɵɵtemplate","ShowReservationComponent_tr_17_Template","ɵɵproperty"],"sources":["C:\\Users\\maham\\Desktop\\Angular-Spring\\miniProjet\\src\\app\\gestion-reservation\\show-reservation\\show-reservation.component.ts","C:\\Users\\maham\\Desktop\\Angular-Spring\\miniProjet\\src\\app\\gestion-reservation\\show-reservation\\show-reservation.component.html"],"sourcesContent":["import { ReservationsService } from 'src/app/services/reservations.service';\nimport { Reservations } from '../../model/Reservations';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-show-reservation',\n  templateUrl: './show-reservation.component.html',\n  styleUrls: ['./show-reservation.component.scss']\n})\nexport class ShowReservationComponent implements OnInit{\nreservations:any[]=[];\nsearchTerm: string = '';\nstartDate: string = ''; // Pour la date de début\nendDate: string = '';   // Pour la date de fin\n\nconstructor(private sReservation:ReservationsService,private router:Router){}\nngOnInit(): void {\n  this.sReservation.getAllReservations().subscribe((data:any)=>{\n    console.log(data);\n    this.reservations=data;\n  });\n}\naddReservation() {\n  this.router.navigate(['/gestion-reservation/addRes']); // Naviguer vers la page d'ajout\n}\nshowDetails(idReservation: any) {\n  this.router.navigate(['/gestion-reservation/detailRes', idReservation]);}\n\ndeleteReservation(resv: Reservations) {\n  this.sReservation.deleteReservation(resv).subscribe((data) => {\n    console.log(data);\n  }); }\neditReservation(idReservation: any) {\n  this.router.navigate(['/gestion-reservation/updateRes', idReservation]);}\n\n\n  get filteredReservations() {\n    return this.reservations.filter(reservation =>\n      reservation.idReservation.toString().includes(this.searchTerm) ||\n      reservation.anneeUniversite.toString().includes(this.searchTerm) ||\n      reservation.commentaire.toLowerCase().includes(this.searchTerm.toLowerCase())\n      // Vous pouvez ajouter d'autres critères de filtrage ici\n    );\n  }\n\n}\n","<!-- <button class=\"btn btn-success btn-sm action-button\" (click)=\"addReservation()\">\n  Ajouter réservation\n</button>\n<table class=\"table table-striped table-bordered\">\n  <thead>\n    <tr>\n      <th>ID</th>\n      <th>Année Universitaire</th>\n      <th>Est Valide ?</th>\n      <th>Commentaire</th>\n      <th>Actions</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let res of reservations\">\n      <td>{{ res.idReservation }}</td>\n      <td>{{ res.anneeUniversite | date:'yyyy-MM-dd' }}</td>\n      <td>\n        <span class=\"badge badge-info\" style=\"color: black;\">{{ res.estValide ? 'Oui' : 'Non' }}</span>\n      </td>\n      <td>{{ res.commentaire }}</td>\n      <td>\n        <button class=\"btn btn-primary btn-sm action-button\" (click)=\"showDetails(res.idReservation)\" >\n          <i class=\"fas fa-info-circle\"></i> Détails\n        </button>\n        <button class=\"btn btn-warning btn-sm action-button\" (click)=\"editReservation(res.idReservation)\">\n          <i class=\"fas fa-edit\"></i> Modifier\n        </button>\n        <button class=\"btn btn-danger btn-sm action-button\" (click)=\"deleteReservation(res)\">\n          <i class=\"fas fa-trash-alt\"></i> Supprimer\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table> -->\n<div class=\"container mt-4\">\n  <button class=\"btn btn-success btn-sm action-button\" (click)=\"addReservation()\">\n    Ajouter réservation\n  </button>\n  \n  <table class=\"table table-striped table-bordered\">\n    <thead>\n      <tr>\n        <th>ID</th>\n        <th>Année Universitaire</th>\n        <th>Est Valide ?</th>\n        <th>Commentaire</th>\n        <th>Actions</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let res of filteredReservations\">\n        <td>{{ res.idReservation }}</td>\n        <td>{{ res.anneeUniversite | date:'yyyy-MM-dd' }}</td>\n        <td>\n          <span class=\"badge badge-info\" style=\"color: black;\">{{ res.estValide ? 'Oui' : 'Non' }}</span>\n        </td>\n        <td>{{ res.commentaire }}</td>\n        <td>\n          <button class=\"btn btn-primary btn-sm action-button\" (click)=\"showDetails(res.idReservation)\">\n            <i class=\"fas fa-info-circle\"></i> Détails\n          </button>\n          <button class=\"btn btn-warning btn-sm action-button\" (click)=\"editReservation(res.idReservation)\">\n            <i class=\"fas fa-edit\"></i> Modifier\n          </button>\n          <button class=\"btn btn-danger btn-sm action-button\" (click)=\"deleteReservation(res)\">\n            <i class=\"fas fa-trash-alt\"></i> Supprimer\n          </button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}